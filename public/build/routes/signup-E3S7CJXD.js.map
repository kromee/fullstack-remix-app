{
  "version": 3,
  "sources": ["empty-module:~/utils/user.server", "browser-route-module:routes/signup.tsx?browser", "../../../app/routes/signup.tsx"],
  "sourcesContent": ["module.exports = {};", "export { default, meta } from \"./routes/signup.tsx\";", "import React, { useState } from \"react\";\nimport type { V2_MetaFunction } from \"@remix-run/node\";\nimport { ActionFunction, json, LoaderFunction } from '@remix-run/node';\nimport { useActionData, Link } from \"@remix-run/react\";\n\nimport { authenticator } from \"~/utils/auth.server\"\nimport { createUser } from \"~/utils/user.server\"\nimport { Layout } from '~/components/layout';\nimport { Textfield } from '~/components/textfield';\n\nexport const meta: V2_MetaFunction = () => {\n  return [{ title: \"New Remix App login\" }];\n};\n\nexport const loader: LoaderFunction = async ({ request }) => {\n  const user = await authenticator.isAuthenticated(request, {\n    successRedirect: \"/\"\n  })\n  return { user }\n}\n\nexport const action: ActionFunction = async ({ request }) => {\n  const form = await request.formData();\n  const action = form.get(\"_action\");\n  const email = form.get(\"email\");\n  const password = form.get(\"password\");\n  const name = form.get(\"name\");\n\n  if (\n    typeof action !== \"string\" ||\n    typeof email !== \"string\" ||\n    typeof password !== \"string\" ||\n    typeof name !== \"string\"\n  ) {\n    return json({ error: `Invalid Form Data`, form: action }, { status: 400 });\n  }\n\n  await createUser({email, password, name})\n\n  return await authenticator.authenticate(\"form\", request, {\n    successRedirect: \"/\",\n    failureRedirect: \"/signup\",\n    context: {formData: form},\n  })\n}\n\nexport default function Signup() {\n  const actionData = useActionData()\n  const [formData, setFormData] = useState({\n    email: actionData?.fields?.email || '',\n    password: actionData?.fields?.password || '',\n    name: actionData?.fields?.password || '',\n  })\n\n  // Updates the form data when an input changes\n  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>, field: string) => {\n    setFormData(form => ({ ...form, [field]: event.target.value }))\n  }\n\n  return (\n    <Layout>\n      <div className=\"h-full justify-center items-center flex flex-col gap-y-5\">\n        <form method=\"POST\" className=\"rounded-2xl bg-white p-6 w-96\">\n          <h2 className=\"text-3xl font-extrabold text-black-600 mb-5\">Create an account</h2>\n          <Textfield\n            htmlFor=\"name\"\n            type=\"name\"\n            label=\"Name\"\n            value={formData.name}\n            onChange={e => handleInputChange(e, 'name')}\n          />\n          <Textfield\n            htmlFor=\"email\"\n            label=\"Email\"\n            value={formData.email}\n            onChange={e => handleInputChange(e, 'email')}\n          />\n          <Textfield\n            htmlFor=\"password\"\n            type=\"password\"\n            label=\"Password\"\n            value={formData.password}\n            onChange={e => handleInputChange(e, 'password')}\n          />\n          <div className=\"w-full text-center mt-5\">\n            <button type=\"submit\" name=\"_action\" value=\"Sign In\" className=\"w-full rounded-xl mt-2 bg-red-500 px-3 py-2 text-white font-semibold transition duration-300 ease-in-out hover:bg-red-600\">\n              Create an account\n            </button>\n          </div>\n        </form>\n        <p className=\"text-gray-600\">Already have an account?<Link to=\"/login\"><span className=\"text-red-600 px-2 underline\">Sign In</span></Link></p>\n      </div>\n    </Layout>\n  );\n}\n\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAO,UAAU,CAAC;AAAA;AAAA;;;ACAlB;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAgC;AAKhC,kBAA8B;AAC9B,kBAA2B;AAyDjB;AArDH,IAAM,OAAwB,MAAM;AACzC,SAAO,CAAC,EAAE,OAAO,sBAAsB,CAAC;AAC1C;AAkCe,SAAR,SAA0B;AA9CjC;AA+CE,QAAM,aAAa,cAAc;AACjC,QAAM,CAAC,UAAU,WAAW,QAAI,uBAAS;AAAA,IACvC,SAAO,8CAAY,WAAZ,mBAAoB,UAAS;AAAA,IACpC,YAAU,8CAAY,WAAZ,mBAAoB,aAAY;AAAA,IAC1C,QAAM,8CAAY,WAAZ,mBAAoB,aAAY;AAAA,EACxC,CAAC;AAGD,QAAM,oBAAoB,CAAC,OAA4C,UAAkB;AACvF,gBAAY,WAAS,EAAE,GAAG,MAAM,CAAC,KAAK,GAAG,MAAM,OAAO,MAAM,EAAE;AAAA,EAChE;AAEA,SACE,mDAAC,UACC,6DAAC,SAAI,WAAU,4DACb;AAAA,uDAAC,UAAK,QAAO,QAAO,WAAU,iCAC5B;AAAA,yDAAC,QAAG,WAAU,+CAA8C,iCAA5D;AAAA;AAAA;AAAA;AAAA,aAA6E;AAAA,MAC7E;AAAA,QAAC;AAAA;AAAA,UACC,SAAQ;AAAA,UACR,MAAK;AAAA,UACL,OAAM;AAAA,UACN,OAAO,SAAS;AAAA,UAChB,UAAU,OAAK,kBAAkB,GAAG,MAAM;AAAA;AAAA,QAL5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMA;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,OAAO,SAAS;AAAA,UAChB,UAAU,OAAK,kBAAkB,GAAG,OAAO;AAAA;AAAA,QAJ7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAKA;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,SAAQ;AAAA,UACR,MAAK;AAAA,UACL,OAAM;AAAA,UACN,OAAO,SAAS;AAAA,UAChB,UAAU,OAAK,kBAAkB,GAAG,UAAU;AAAA;AAAA,QALhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMA;AAAA,MACA,mDAAC,SAAI,WAAU,2BACb,6DAAC,YAAO,MAAK,UAAS,MAAK,WAAU,OAAM,WAAU,WAAU,6HAA4H,iCAA3L;AAAA;AAAA;AAAA;AAAA,aAEA,KAHF;AAAA;AAAA;AAAA;AAAA,aAIA;AAAA,SA1BF;AAAA;AAAA;AAAA;AAAA,WA2BA;AAAA,IACA,mDAAC,OAAE,WAAU,iBAAgB;AAAA;AAAA,MAAwB,mDAAC,QAAK,IAAG,UAAS,6DAAC,UAAK,WAAU,+BAA8B,uBAA9C;AAAA;AAAA;AAAA;AAAA,aAAqD,KAAvE;AAAA;AAAA;AAAA;AAAA,aAA8E;AAAA,SAAnI;AAAA;AAAA;AAAA;AAAA,WAA0I;AAAA,OA7B5I;AAAA;AAAA;AAAA;AAAA,SA8BA,KA/BF;AAAA;AAAA;AAAA;AAAA,SAgCA;AAEJ;",
  "names": []
}
